{"ast":null,"code":"var _jsxFileName = \"D:\\\\my_app\\\\src\\\\components\\\\ArticleComponent.js\";\nimport '../App.css';\nimport { rawData } from '../storeData';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet colorDict = {\n  '#ff471a': 0,\n  '#ffff1a': 1,\n  '#79ff4d': 2,\n  '#cce6ff': 3,\n  '#66b3ff': 4,\n  '#1a8cff': 5,\n  '#f0b3ff': 6,\n  '#e066ff': 7,\n  '#d11aff': 8\n};\nlet currentThemes = {};\nlet currentLocations = {};\n\nfunction convertData(rawData) {\n  let result = []; //Loop through all the paragraphs\n\n  for (let i = 0; i < rawData.sentence_propaganda.length; i++) {\n    let currentParagraph = {};\n    let fixedStart = 0;\n    let start = 0;\n    let end = 0;\n    let text = \"\";\n    let first = true;\n    currentParagraph.annotations = []; //Loop through all the words\n\n    for (let j = 0; j < rawData.sentence_propaganda[i].tokens.length; j++) {\n      //Store text\n      text += rawData.sentence_propaganda[i].tokens[j] + \" \";\n      end += rawData.sentence_propaganda[i].tokens[j].length; //Remeber starting point (sicne we could have multiple consecutive words with the same color)\n\n      if (rawData.sentence_propaganda[i].tags[j] !== \"O\") if (first) {\n        first = false;\n        fixedStart = start;\n      } //Store \n\n      if (rawData.sentence_propaganda[i].tags[j] !== \"O\") if (j === rawData.sentence_propaganda[i].tokens.length || rawData.sentence_propaganda[i].tags[j] !== rawData.sentence_propaganda[i].tags[j + 1]) {\n        let annotations = {};\n        annotations.start = fixedStart;\n        annotations.end = end;\n        annotations.color = rawData.sentence_propaganda[i].tags[j];\n        currentParagraph.annotations.push(annotations);\n        first = true;\n      }\n      if (rawData.sentence_propaganda[i].tags[j].includes('theme')) currentThemes[rawData.sentence_propaganda[i].tags[j].slice(7, rawData.sentence_propaganda[i].tags[j].length)] = false;else if (rawData.sentence_propaganda[i].tags[j].includes('location')) currentLocations[rawData.sentence_propaganda[i].tags[j].slice(10, rawData.sentence_propaganda[i].tags[j].length)] = false;\n      start = end + 1;\n      end++;\n    } //Store paragraph and push to result\n\n\n    currentParagraph.paragraph = text;\n    result.push(currentParagraph);\n  }\n\n  let data = {};\n  data.title = rawData.key;\n  data.paragraphs = result;\n  return data;\n}\n\nlet data = convertData(rawData);\nexport { currentThemes };\nexport { currentLocations };\n\nfunction Article(props) {\n  let currentStatus = props.curr;\n  let HTMLElements = [];\n\n  for (let i = 0; i < data.paragraphs.length; i++) {\n    let paragraphElements = [];\n    let startingPoint = 0;\n    let stoppingPoint;\n    let current;\n\n    for (let j = 0; j < data.paragraphs[i].annotations.length; j++) {\n      stoppingPoint = data.paragraphs[i].annotations[j].start;\n      let end = data.paragraphs[i].annotations[j].end;\n      let color = data.paragraphs[i].annotations[j].color;\n      current = data.paragraphs[i].paragraph.slice(startingPoint, stoppingPoint);\n      paragraphElements.push( /*#__PURE__*/_jsxDEV(\"span\", {\n        children: current\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 36\n      }, this));\n      current = data.paragraphs[i].paragraph.slice(stoppingPoint, end);\n\n      if (color.includes('theme')) {\n        if (props.currThemes[color.slice(7, color.lenght)]) paragraphElements.push( /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"highlight\",\n          style: {\n            backgroundColor: \"#ffff80\"\n          },\n          children: current\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 44\n        }, this));else paragraphElements.push( /*#__PURE__*/_jsxDEV(\"span\", {\n          children: current\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 44\n        }, this));\n      } else if (color.includes('location')) {\n        if (props.currLocations[color.slice(10, color.lenght)]) paragraphElements.push( /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"highlight\",\n          style: {\n            backgroundColor: \"#99ffff\"\n          },\n          children: current\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 48\n        }, this));else paragraphElements.push( /*#__PURE__*/_jsxDEV(\"span\", {\n          children: current\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 48\n        }, this));\n      } else if (currentStatus[colorDict[color]] === true) paragraphElements.push( /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"highlight\",\n        style: {\n          backgroundColor: color\n        },\n        children: current\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 48\n      }, this));else paragraphElements.push( /*#__PURE__*/_jsxDEV(\"span\", {\n        children: current\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 48\n      }, this));\n\n      startingPoint = end;\n    }\n\n    stoppingPoint = data.paragraphs[i].paragraph.length;\n    current = data.paragraphs[i].paragraph.slice(startingPoint, stoppingPoint);\n    paragraphElements.push( /*#__PURE__*/_jsxDEV(\"span\", {\n      children: current\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 32\n    }, this));\n    HTMLElements.push(paragraphElements);\n  }\n\n  HTMLElements = HTMLElements.map(word => /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"paragraph\",\n      children: word\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 14\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 53\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 152,\n    columnNumber: 9\n  }, this));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    class: \"note\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"article-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Help\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 17\n      }, this), HTMLElements]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"article-search\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        class: \"article-source\",\n        children: \" SOURCE \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"link\", {\n        rel: \"stylesheet\",\n        href: \"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        class: \"article-search-forms\",\n        action: \"action_page.php\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          class: \"article-search-bar\",\n          type: \"text\",\n          placeholder: \"Search..\",\n          name: \"search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            class: \"fa fa-search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 43\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 157,\n    columnNumber: 9\n  }, this);\n}\n\n_c = Article;\nexport default Article;\n\nvar _c;\n\n$RefreshReg$(_c, \"Article\");","map":{"version":3,"sources":["D:/my_app/src/components/ArticleComponent.js"],"names":["rawData","colorDict","currentThemes","currentLocations","convertData","result","i","sentence_propaganda","length","currentParagraph","fixedStart","start","end","text","first","annotations","j","tokens","tags","color","push","includes","slice","paragraph","data","title","key","paragraphs","Article","props","currentStatus","curr","HTMLElements","paragraphElements","startingPoint","stoppingPoint","current","currThemes","lenght","backgroundColor","currLocations","map","word"],"mappings":";AAAA,OAAO,YAAP;AAEA,SAASA,OAAT,QAAwB,cAAxB;;AAEA,IAAIC,SAAS,GAAG;AACZ,aAAW,CADC;AAEZ,aAAW,CAFC;AAGZ,aAAW,CAHC;AAIZ,aAAW,CAJC;AAKZ,aAAW,CALC;AAMZ,aAAW,CANC;AAOZ,aAAW,CAPC;AAQZ,aAAW,CARC;AASZ,aAAU;AATE,CAAhB;AAaA,IAAIC,aAAa,GAAG,EAApB;AACA,IAAIC,gBAAgB,GAAG,EAAvB;;AAEA,SAASC,WAAT,CAAqBJ,OAArB,EAA6B;AAEzB,MAAIK,MAAM,GAAG,EAAb,CAFyB,CAIzB;;AACA,OAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACN,OAAO,CAACO,mBAAR,CAA4BC,MAA1C,EAAiDF,CAAC,EAAlD,EACA;AACI,QAAIG,gBAAgB,GAAG,EAAvB;AACA,QAAIC,UAAU,GAAG,CAAjB;AACA,QAAIC,KAAK,GAAG,CAAZ;AACA,QAAIC,GAAG,GAAG,CAAV;AACA,QAAIC,IAAI,GAAG,EAAX;AACA,QAAIC,KAAK,GAAG,IAAZ;AAGAL,IAAAA,gBAAgB,CAACM,WAAjB,GAA+B,EAA/B,CATJ,CAWI;;AACA,SAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAChB,OAAO,CAACO,mBAAR,CAA4BD,CAA5B,EAA+BW,MAA/B,CAAsCT,MAApD,EAA2DQ,CAAC,EAA5D,EACA;AACI;AACAH,MAAAA,IAAI,IAAIb,OAAO,CAACO,mBAAR,CAA4BD,CAA5B,EAA+BW,MAA/B,CAAsCD,CAAtC,IAA2C,GAAnD;AACAJ,MAAAA,GAAG,IAAIZ,OAAO,CAACO,mBAAR,CAA4BD,CAA5B,EAA+BW,MAA/B,CAAsCD,CAAtC,EAAyCR,MAAhD,CAHJ,CAKI;;AACA,UAAGR,OAAO,CAACO,mBAAR,CAA4BD,CAA5B,EAA+BY,IAA/B,CAAoCF,CAApC,MAA2C,GAA9C,EACI,IAAGF,KAAH,EACA;AACIA,QAAAA,KAAK,GAAG,KAAR;AACAJ,QAAAA,UAAU,GAAGC,KAAb;AACH,OAXT,CAaI;;AACA,UAAGX,OAAO,CAACO,mBAAR,CAA4BD,CAA5B,EAA+BY,IAA/B,CAAoCF,CAApC,MAA2C,GAA9C,EACI,IAAGA,CAAC,KAAKhB,OAAO,CAACO,mBAAR,CAA4BD,CAA5B,EAA+BW,MAA/B,CAAsCT,MAA5C,IACCR,OAAO,CAACO,mBAAR,CAA4BD,CAA5B,EAA+BY,IAA/B,CAAoCF,CAApC,MAA2ChB,OAAO,CAACO,mBAAR,CAA4BD,CAA5B,EAA+BY,IAA/B,CAAoCF,CAAC,GAAC,CAAtC,CAD/C,EAEA;AACI,YAAID,WAAW,GAAG,EAAlB;AACAA,QAAAA,WAAW,CAACJ,KAAZ,GAAoBD,UAApB;AACAK,QAAAA,WAAW,CAACH,GAAZ,GAAkBA,GAAlB;AACAG,QAAAA,WAAW,CAACI,KAAZ,GAAoBnB,OAAO,CAACO,mBAAR,CAA4BD,CAA5B,EAA+BY,IAA/B,CAAoCF,CAApC,CAApB;AACAP,QAAAA,gBAAgB,CAACM,WAAjB,CAA6BK,IAA7B,CAAkCL,WAAlC;AACAD,QAAAA,KAAK,GAAG,IAAR;AACH;AAGL,UAAGd,OAAO,CAACO,mBAAR,CAA4BD,CAA5B,EAA+BY,IAA/B,CAAoCF,CAApC,EAAuCK,QAAvC,CAAgD,OAAhD,CAAH,EACInB,aAAa,CAACF,OAAO,CAACO,mBAAR,CAA4BD,CAA5B,EAA+BY,IAA/B,CAAoCF,CAApC,EAAuCM,KAAvC,CAA6C,CAA7C,EAAgDtB,OAAO,CAACO,mBAAR,CAA4BD,CAA5B,EAA+BY,IAA/B,CAAoCF,CAApC,EAAuCR,MAAvF,CAAD,CAAb,GAAgH,KAAhH,CADJ,KAGI,IAAGR,OAAO,CAACO,mBAAR,CAA4BD,CAA5B,EAA+BY,IAA/B,CAAoCF,CAApC,EAAuCK,QAAvC,CAAgD,UAAhD,CAAH,EACIlB,gBAAgB,CAACH,OAAO,CAACO,mBAAR,CAA4BD,CAA5B,EAA+BY,IAA/B,CAAoCF,CAApC,EAAuCM,KAAvC,CAA6C,EAA7C,EAAiDtB,OAAO,CAACO,mBAAR,CAA4BD,CAA5B,EAA+BY,IAA/B,CAAoCF,CAApC,EAAuCR,MAAxF,CAAD,CAAhB,GAAoH,KAApH;AAERG,MAAAA,KAAK,GAAGC,GAAG,GAAG,CAAd;AACAA,MAAAA,GAAG;AACN,KAhDL,CAkDI;;;AACAH,IAAAA,gBAAgB,CAACc,SAAjB,GAA6BV,IAA7B;AACAR,IAAAA,MAAM,CAACe,IAAP,CAAYX,gBAAZ;AACH;;AAED,MAAIe,IAAI,GAAG,EAAX;AACAA,EAAAA,IAAI,CAACC,KAAL,GAAazB,OAAO,CAAC0B,GAArB;AACAF,EAAAA,IAAI,CAACG,UAAL,GAAkBtB,MAAlB;AAEA,SAAOmB,IAAP;AAEH;;AAED,IAAIA,IAAI,GAAGpB,WAAW,CAACJ,OAAD,CAAtB;AAEA,SAAQE,aAAR;AACA,SAAQC,gBAAR;;AAEA,SAASyB,OAAT,CAAiBC,KAAjB,EAAuB;AAEnB,MAAIC,aAAa,GAAGD,KAAK,CAACE,IAA1B;AAEA,MAAIC,YAAY,GAAG,EAAnB;;AACA,OAAI,IAAI1B,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACkB,IAAI,CAACG,UAAL,CAAgBnB,MAA9B,EAAqCF,CAAC,EAAtC,EACA;AACI,QAAI2B,iBAAiB,GAAG,EAAxB;AACA,QAAIC,aAAa,GAAG,CAApB;AACA,QAAIC,aAAJ;AACA,QAAIC,OAAJ;;AAEA,SAAI,IAAIpB,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACQ,IAAI,CAACG,UAAL,CAAgBrB,CAAhB,EAAmBS,WAAnB,CAA+BP,MAA7C,EAAoDQ,CAAC,EAArD,EACA;AACImB,MAAAA,aAAa,GAAGX,IAAI,CAACG,UAAL,CAAgBrB,CAAhB,EAAmBS,WAAnB,CAA+BC,CAA/B,EAAkCL,KAAlD;AACA,UAAIC,GAAG,GAAGY,IAAI,CAACG,UAAL,CAAgBrB,CAAhB,EAAmBS,WAAnB,CAA+BC,CAA/B,EAAkCJ,GAA5C;AACA,UAAIO,KAAK,GAAGK,IAAI,CAACG,UAAL,CAAgBrB,CAAhB,EAAmBS,WAAnB,CAA+BC,CAA/B,EAAkCG,KAA9C;AAEAiB,MAAAA,OAAO,GAAGZ,IAAI,CAACG,UAAL,CAAgBrB,CAAhB,EAAmBiB,SAAnB,CAA6BD,KAA7B,CAAmCY,aAAnC,EAAkDC,aAAlD,CAAV;AACAF,MAAAA,iBAAiB,CAACb,IAAlB,eAAuB;AAAA,kBAAOgB;AAAP;AAAA;AAAA;AAAA;AAAA,cAAvB;AAEAA,MAAAA,OAAO,GAAGZ,IAAI,CAACG,UAAL,CAAgBrB,CAAhB,EAAmBiB,SAAnB,CAA6BD,KAA7B,CAAmCa,aAAnC,EAAkDvB,GAAlD,CAAV;;AAEA,UAAGO,KAAK,CAACE,QAAN,CAAe,OAAf,CAAH,EACA;AACI,YAAGQ,KAAK,CAACQ,UAAN,CAAiBlB,KAAK,CAACG,KAAN,CAAY,CAAZ,EAAcH,KAAK,CAACmB,MAApB,CAAjB,CAAH,EACIL,iBAAiB,CAACb,IAAlB,eAAuB;AAAM,UAAA,SAAS,EAAC,WAAhB;AAA4B,UAAA,KAAK,EAAE;AAACmB,YAAAA,eAAe,EAAC;AAAjB,WAAnC;AAAA,oBAAiEH;AAAjE;AAAA;AAAA;AAAA;AAAA,gBAAvB,EADJ,KAGIH,iBAAiB,CAACb,IAAlB,eAAuB;AAAA,oBAAOgB;AAAP;AAAA;AAAA;AAAA;AAAA,gBAAvB;AACP,OAND,MAQI,IAAGjB,KAAK,CAACE,QAAN,CAAe,UAAf,CAAH,EACA;AACI,YAAGQ,KAAK,CAACW,aAAN,CAAoBrB,KAAK,CAACG,KAAN,CAAY,EAAZ,EAAeH,KAAK,CAACmB,MAArB,CAApB,CAAH,EACIL,iBAAiB,CAACb,IAAlB,eAAuB;AAAM,UAAA,SAAS,EAAC,WAAhB;AAA4B,UAAA,KAAK,EAAE;AAACmB,YAAAA,eAAe,EAAC;AAAjB,WAAnC;AAAA,oBAAiEH;AAAjE;AAAA;AAAA;AAAA;AAAA,gBAAvB,EADJ,KAGIH,iBAAiB,CAACb,IAAlB,eAAuB;AAAA,oBAAOgB;AAAP;AAAA;AAAA;AAAA;AAAA,gBAAvB;AACP,OAND,MAQI,IAAGN,aAAa,CAAC7B,SAAS,CAACkB,KAAD,CAAV,CAAb,KAAoC,IAAvC,EACIc,iBAAiB,CAACb,IAAlB,eAAuB;AAAM,QAAA,SAAS,EAAC,WAAhB;AAA4B,QAAA,KAAK,EAAE;AAACmB,UAAAA,eAAe,EAACpB;AAAjB,SAAnC;AAAA,kBAA6DiB;AAA7D;AAAA;AAAA;AAAA;AAAA,cAAvB,EADJ,KAGIH,iBAAiB,CAACb,IAAlB,eAAuB;AAAA,kBAAOgB;AAAP;AAAA;AAAA;AAAA;AAAA,cAAvB;;AAEZF,MAAAA,aAAa,GAAGtB,GAAhB;AACH;;AAEDuB,IAAAA,aAAa,GAAGX,IAAI,CAACG,UAAL,CAAgBrB,CAAhB,EAAmBiB,SAAnB,CAA6Bf,MAA7C;AACA4B,IAAAA,OAAO,GAAGZ,IAAI,CAACG,UAAL,CAAgBrB,CAAhB,EAAmBiB,SAAnB,CAA6BD,KAA7B,CAAmCY,aAAnC,EAAkDC,aAAlD,CAAV;AAEAF,IAAAA,iBAAiB,CAACb,IAAlB,eAAuB;AAAA,gBAAOgB;AAAP;AAAA;AAAA;AAAA;AAAA,YAAvB;AAEAJ,IAAAA,YAAY,CAACZ,IAAb,CAAkBa,iBAAlB;AAEH;;AAEDD,EAAAA,YAAY,GAAGA,YAAY,CAACS,GAAb,CAAiBC,IAAI,iBAChC;AAAA,4BAAK;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA,gBAA4BA;AAA5B;AAAA;AAAA;AAAA;AAAA,YAAL,eAA4C;AAAA;AAAA;AAAA;AAAA,YAA5C;AAAA;AAAA;AAAA;AAAA;AAAA,UADW,CAAf;AAII,sBAEA;AAAK,IAAA,KAAK,EAAC,MAAX;AAAA,4BACI;AAAK,MAAA,KAAK,EAAC,iBAAX;AAAA,8BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,EAEKV,YAFL;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAMI;AAAK,MAAA,KAAK,EAAC,gBAAX;AAAA,8BACI;AAAI,QAAA,KAAK,EAAC,gBAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAGI;AAAM,QAAA,GAAG,EAAC,YAAV;AAAuB,QAAA,IAAI,EAAC;AAA5B;AAAA;AAAA;AAAA;AAAA,cAHJ,eAMI;AAAM,QAAA,KAAK,EAAC,sBAAZ;AAAmC,QAAA,MAAM,EAAC,iBAA1C;AAAA,gCACI;AAAO,UAAA,KAAK,EAAC,oBAAb;AAAkC,UAAA,IAAI,EAAC,MAAvC;AAA8C,UAAA,WAAW,EAAC,UAA1D;AAAqE,UAAA,IAAI,EAAC;AAA1E;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAQ,UAAA,IAAI,EAAC,QAAb;AAAA,iCAAsB;AAAG,YAAA,KAAK,EAAC;AAAT;AAAA;AAAA;AAAA;AAAA;AAAtB;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cANJ;AAAA;AAAA;AAAA;AAAA;AAAA,YANJ;AAAA;AAAA;AAAA;AAAA;AAAA,UAFA;AAqBP;;KAjFQJ,O;AAmFT,eAAeA,OAAf","sourcesContent":["import '../App.css';\r\n\r\nimport { rawData } from '../storeData'\r\n\r\nlet colorDict = {\r\n    '#ff471a': 0,\r\n    '#ffff1a': 1,\r\n    '#79ff4d': 2,\r\n    '#cce6ff': 3,\r\n    '#66b3ff': 4,\r\n    '#1a8cff': 5,\r\n    '#f0b3ff': 6,\r\n    '#e066ff': 7,\r\n    '#d11aff':8\r\n};\r\n\r\n\r\nlet currentThemes = {}\r\nlet currentLocations = {}\r\n\r\nfunction convertData(rawData){\r\n\r\n    let result = []    \r\n\r\n    //Loop through all the paragraphs\r\n    for(let i=0;i<rawData.sentence_propaganda.length;i++)\r\n    {\r\n        let currentParagraph = {}\r\n        let fixedStart = 0\r\n        let start = 0\r\n        let end = 0\r\n        let text = \"\"\r\n        let first = true\r\n\r\n\r\n        currentParagraph.annotations = []\r\n\r\n        //Loop through all the words\r\n        for(let j=0;j<rawData.sentence_propaganda[i].tokens.length;j++)\r\n        {\r\n            //Store text\r\n            text += rawData.sentence_propaganda[i].tokens[j] + \" \"   \r\n            end += rawData.sentence_propaganda[i].tokens[j].length\r\n            \r\n            //Remeber starting point (sicne we could have multiple consecutive words with the same color)\r\n            if(rawData.sentence_propaganda[i].tags[j] !== \"O\")\r\n                if(first)\r\n                {\r\n                    first = false\r\n                    fixedStart = start\r\n                }\r\n            \r\n            //Store \r\n            if(rawData.sentence_propaganda[i].tags[j] !== \"O\")    \r\n                if(j === rawData.sentence_propaganda[i].tokens.length || \r\n                    rawData.sentence_propaganda[i].tags[j] !== rawData.sentence_propaganda[i].tags[j+1])\r\n                {\r\n                    let annotations = {}\r\n                    annotations.start = fixedStart\r\n                    annotations.end = end\r\n                    annotations.color = rawData.sentence_propaganda[i].tags[j]\r\n                    currentParagraph.annotations.push(annotations)\r\n                    first = true\r\n                }\r\n            \r\n        \r\n            if(rawData.sentence_propaganda[i].tags[j].includes('theme'))\r\n                currentThemes[rawData.sentence_propaganda[i].tags[j].slice(7, rawData.sentence_propaganda[i].tags[j].length)] = false;                  \r\n            else\r\n                if(rawData.sentence_propaganda[i].tags[j].includes('location'))\r\n                    currentLocations[rawData.sentence_propaganda[i].tags[j].slice(10, rawData.sentence_propaganda[i].tags[j].length)] = false;        \r\n                 \r\n            start = end + 1\r\n            end++\r\n        }\r\n        \r\n        //Store paragraph and push to result\r\n        currentParagraph.paragraph = text\r\n        result.push(currentParagraph)\r\n    }\r\n\r\n    let data = {}\r\n    data.title = rawData.key\r\n    data.paragraphs = result\r\n\r\n    return data\r\n\r\n}\r\n\r\nlet data = convertData(rawData)\r\n\r\nexport {currentThemes};\r\nexport {currentLocations};\r\n\r\nfunction Article(props){\r\n\r\n    let currentStatus = props.curr;\r\n\r\n    let HTMLElements = []\r\n    for(let i=0;i<data.paragraphs.length;i++)\r\n    {\r\n        let paragraphElements = []\r\n        let startingPoint = 0\r\n        let stoppingPoint\r\n        let current\r\n\r\n        for(let j=0;j<data.paragraphs[i].annotations.length;j++)\r\n        {\r\n            stoppingPoint = data.paragraphs[i].annotations[j].start\r\n            let end = data.paragraphs[i].annotations[j].end\r\n            let color = data.paragraphs[i].annotations[j].color\r\n\r\n            current = data.paragraphs[i].paragraph.slice(startingPoint, stoppingPoint)\r\n            paragraphElements.push(<span>{current}</span>)\r\n\r\n            current = data.paragraphs[i].paragraph.slice(stoppingPoint, end)\r\n            \r\n            if(color.includes('theme'))\r\n            {\r\n                if(props.currThemes[color.slice(7,color.lenght)])\r\n                    paragraphElements.push(<span className=\"highlight\" style={{backgroundColor:\"#ffff80\"}}>{current}</span>)\r\n                else\r\n                    paragraphElements.push(<span>{current}</span>)\r\n            }\r\n            else\r\n                if(color.includes('location'))\r\n                {\r\n                    if(props.currLocations[color.slice(10,color.lenght)])\r\n                        paragraphElements.push(<span className=\"highlight\" style={{backgroundColor:\"#99ffff\"}}>{current}</span>)\r\n                    else\r\n                        paragraphElements.push(<span>{current}</span>)\r\n                }\r\n                else\r\n                    if(currentStatus[colorDict[color]] === true)\r\n                        paragraphElements.push(<span className=\"highlight\" style={{backgroundColor:color}}>{current}</span>)\r\n                    else\r\n                        paragraphElements.push(<span>{current}</span>)\r\n\r\n            startingPoint = end\r\n        }\r\n        \r\n        stoppingPoint = data.paragraphs[i].paragraph.length\r\n        current = data.paragraphs[i].paragraph.slice(startingPoint, stoppingPoint)\r\n        \r\n        paragraphElements.push(<span>{current}</span>)\r\n        \r\n        HTMLElements.push(paragraphElements)\r\n\r\n    }\r\n    \r\n    HTMLElements = HTMLElements.map(word => \r\n        <div><div className='paragraph'>{word}</div><br></br></div>)\r\n\r\n\r\n        return (\r\n        \r\n        <div class=\"note\">\r\n            <div class='article-content'>\r\n                <button>Help</button>\r\n                {HTMLElements}\r\n            </div>\r\n\r\n            <div class='article-search'> \r\n                <h1 class='article-source'> SOURCE </h1>\r\n\r\n                <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\"></link>\r\n\r\n                \r\n                <form class=\"article-search-forms\" action=\"action_page.php\">\r\n                    <input class=\"article-search-bar\" type=\"text\" placeholder=\"Search..\" name=\"search\"></input>\r\n                    <button type=\"submit\"><i class=\"fa fa-search\"></i></button>\r\n\r\n                </form>    \r\n            </div>\r\n        </div>)\r\n}\r\n\r\nexport default Article;"]},"metadata":{},"sourceType":"module"}