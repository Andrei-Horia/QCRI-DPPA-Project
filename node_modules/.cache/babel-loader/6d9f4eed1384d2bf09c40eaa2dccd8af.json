{"ast":null,"code":"var _jsxFileName = \"D:\\\\my_app\\\\src\\\\components\\\\ArticleComponent.js\";\nimport React from 'react';\nimport '../App.css';\nimport { rawData } from '../storeData';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet colorDict = {\n  '#ff471a': 0,\n  '#ffff1a': 1,\n  '#79ff4d': 2,\n  '#cce6ff': 3,\n  '#66b3ff': 4,\n  '#1a8cff': 5,\n  '#f0b3ff': 6,\n  '#e066ff': 7,\n  '#d11aff': 8\n};\nlet currentThemes = {};\nlet currentLocations = {};\n\nfunction convertData(rawData) {\n  let result = []; //Loop through all the paragraphs\n\n  for (let i = 0; i < rawData.sentence_propaganda.length; i++) {\n    let currentParagraph = {};\n    let fixedStart = 0;\n    let start = 0;\n    let end = 0;\n    let text = \"\";\n    let first = true;\n    currentParagraph.annotations = []; //Loop through all the words\n\n    for (let j = 0; j < rawData.sentence_propaganda[i].tokens.length; j++) {\n      //Store text\n      text += rawData.sentence_propaganda[i].tokens[j] + \" \";\n      end += rawData.sentence_propaganda[i].tokens[j].length; //Remeber starting point (sicne we could have multiple consecutive words with the same color)\n\n      if (rawData.sentence_propaganda[i].tags[j] !== \"O\") if (first) {\n        first = false;\n        fixedStart = start;\n      } //Store \n\n      if (rawData.sentence_propaganda[i].tags[j] !== \"O\") if (j === rawData.sentence_propaganda[i].tokens.length || rawData.sentence_propaganda[i].tags[j] !== rawData.sentence_propaganda[i].tags[j + 1]) {\n        let annotations = {};\n        annotations.start = fixedStart;\n        annotations.end = end;\n        annotations.color = rawData.sentence_propaganda[i].tags[j];\n        currentParagraph.annotations.push(annotations);\n        first = true;\n      }\n      if (rawData.sentence_propaganda[i].tags[j].includes('theme')) currentThemes[rawData.sentence_propaganda[i].tags[j].slice(7, rawData.sentence_propaganda[i].tags[j].length)] = false;else if (rawData.sentence_propaganda[i].tags[j].includes('location')) currentLocations[rawData.sentence_propaganda[i].tags[j].slice(10, rawData.sentence_propaganda[i].tags[j].length)] = false;\n      start = end + 1;\n      end++;\n    } //Store paragraph and push to result\n\n\n    currentParagraph.paragraph = text;\n    result.push(currentParagraph);\n  }\n\n  let data = {};\n  data.title = rawData.key;\n  data.paragraphs = result;\n  return data;\n}\n\nlet data = convertData(rawData);\nexport { currentThemes };\nexport { currentLocations };\n\nclass Article extends React.Component {\n  constructor(props) {\n    super();\n    this.state = {\n      hideTextState: false\n    };\n    this.hideText = this.hideText.bind(this);\n  }\n\n  buildArticle() {\n    let HTMLElements = [];\n\n    for (let i = 0; i < data.paragraphs.length; i++) {\n      let paragraphElements = [];\n      let startingPoint = 0;\n      let stoppingPoint;\n      let current;\n\n      for (let j = 0; j < data.paragraphs[i].annotations.length; j++) {\n        stoppingPoint = data.paragraphs[i].annotations[j].start;\n        let end = data.paragraphs[i].annotations[j].end;\n        let color = data.paragraphs[i].annotations[j].color;\n        current = data.paragraphs[i].paragraph.slice(startingPoint, stoppingPoint);\n        paragraphElements.push( /*#__PURE__*/_jsxDEV(\"span\", {\n          children: current\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 40\n        }, this));\n        current = data.paragraphs[i].paragraph.slice(stoppingPoint, end);\n\n        if (color.includes('theme')) {\n          if (this.props.currThemes[color.slice(7, color.lenght)]) paragraphElements.push( /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"highlight\",\n            style: {\n              backgroundColor: \"#ffff80\"\n            },\n            children: current\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 48\n          }, this));else paragraphElements.push( /*#__PURE__*/_jsxDEV(\"span\", {\n            children: current\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 48\n          }, this));\n        } else if (color.includes('location')) {\n          if (this.props.currLocations[color.slice(10, color.lenght)]) paragraphElements.push( /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"highlight\",\n            style: {\n              backgroundColor: \"#99ffff\"\n            },\n            children: current\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 52\n          }, this));else paragraphElements.push( /*#__PURE__*/_jsxDEV(\"span\", {\n            children: current\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 52\n          }, this));\n        } else if (this.props.curr[colorDict[color]] === true) paragraphElements.push( /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"highlight\",\n          style: {\n            backgroundColor: color\n          },\n          children: current\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 52\n        }, this));else paragraphElements.push( /*#__PURE__*/_jsxDEV(\"span\", {\n          children: current\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 52\n        }, this));\n\n        startingPoint = end;\n      }\n\n      stoppingPoint = data.paragraphs[i].paragraph.length;\n      current = data.paragraphs[i].paragraph.slice(startingPoint, stoppingPoint);\n      paragraphElements.push( /*#__PURE__*/_jsxDEV(\"span\", {\n        children: current\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 36\n      }, this));\n      HTMLElements.push(paragraphElements);\n    }\n\n    HTMLElements = HTMLElements.map(word => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"paragraph\",\n        children: word\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 57\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 13\n    }, this));\n    return HTMLElements;\n  }\n\n  hideText() {\n    this.setState({\n      hideTextState: !this.state.hideTextState\n    });\n  }\n\n  render() {\n    let HTMLText;\n    if (!this.state.hideTextState) HTMLText = this.buildArticle();else HTMLText = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"paragraph\",\n      children: \"Text Hidden\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 25\n    }, this);\n    let symbol = \"?\";\n    if (this.state.hideTextState) symbol = \"X\";\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"note\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"article-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          class: \"article-help\",\n          onClick: this.hideText,\n          children: symbol\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 17\n        }, this), HTMLText]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"article-search\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          class: \"article-source\",\n          children: \" SOURCE \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"link\", {\n          rel: \"stylesheet\",\n          href: \"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          class: \"article-search-forms\",\n          action: \"action_page.php\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            class: \"article-search-bar\",\n            type: \"text\",\n            placeholder: \"Search..\",\n            name: \"search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              class: \"fa fa-search\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 43\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default Article;","map":{"version":3,"sources":["D:/my_app/src/components/ArticleComponent.js"],"names":["React","rawData","colorDict","currentThemes","currentLocations","convertData","result","i","sentence_propaganda","length","currentParagraph","fixedStart","start","end","text","first","annotations","j","tokens","tags","color","push","includes","slice","paragraph","data","title","key","paragraphs","Article","Component","constructor","props","state","hideTextState","hideText","bind","buildArticle","HTMLElements","paragraphElements","startingPoint","stoppingPoint","current","currThemes","lenght","backgroundColor","currLocations","curr","map","word","setState","render","HTMLText","symbol"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,YAAP;AAEA,SAASC,OAAT,QAAwB,cAAxB;;AAEA,IAAIC,SAAS,GAAG;AACZ,aAAW,CADC;AAEZ,aAAW,CAFC;AAGZ,aAAW,CAHC;AAIZ,aAAW,CAJC;AAKZ,aAAW,CALC;AAMZ,aAAW,CANC;AAOZ,aAAW,CAPC;AAQZ,aAAW,CARC;AASZ,aAAW;AATC,CAAhB;AAaA,IAAIC,aAAa,GAAG,EAApB;AACA,IAAIC,gBAAgB,GAAG,EAAvB;;AAEA,SAASC,WAAT,CAAqBJ,OAArB,EAA6B;AAEzB,MAAIK,MAAM,GAAG,EAAb,CAFyB,CAIzB;;AACA,OAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACN,OAAO,CAACO,mBAAR,CAA4BC,MAA1C,EAAiDF,CAAC,EAAlD,EACA;AACI,QAAIG,gBAAgB,GAAG,EAAvB;AACA,QAAIC,UAAU,GAAG,CAAjB;AACA,QAAIC,KAAK,GAAG,CAAZ;AACA,QAAIC,GAAG,GAAG,CAAV;AACA,QAAIC,IAAI,GAAG,EAAX;AACA,QAAIC,KAAK,GAAG,IAAZ;AAGAL,IAAAA,gBAAgB,CAACM,WAAjB,GAA+B,EAA/B,CATJ,CAWI;;AACA,SAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAChB,OAAO,CAACO,mBAAR,CAA4BD,CAA5B,EAA+BW,MAA/B,CAAsCT,MAApD,EAA2DQ,CAAC,EAA5D,EACA;AACI;AACAH,MAAAA,IAAI,IAAIb,OAAO,CAACO,mBAAR,CAA4BD,CAA5B,EAA+BW,MAA/B,CAAsCD,CAAtC,IAA2C,GAAnD;AACAJ,MAAAA,GAAG,IAAIZ,OAAO,CAACO,mBAAR,CAA4BD,CAA5B,EAA+BW,MAA/B,CAAsCD,CAAtC,EAAyCR,MAAhD,CAHJ,CAKI;;AACA,UAAGR,OAAO,CAACO,mBAAR,CAA4BD,CAA5B,EAA+BY,IAA/B,CAAoCF,CAApC,MAA2C,GAA9C,EACI,IAAGF,KAAH,EACA;AACIA,QAAAA,KAAK,GAAG,KAAR;AACAJ,QAAAA,UAAU,GAAGC,KAAb;AACH,OAXT,CAaI;;AACA,UAAGX,OAAO,CAACO,mBAAR,CAA4BD,CAA5B,EAA+BY,IAA/B,CAAoCF,CAApC,MAA2C,GAA9C,EACI,IAAGA,CAAC,KAAKhB,OAAO,CAACO,mBAAR,CAA4BD,CAA5B,EAA+BW,MAA/B,CAAsCT,MAA5C,IACCR,OAAO,CAACO,mBAAR,CAA4BD,CAA5B,EAA+BY,IAA/B,CAAoCF,CAApC,MAA2ChB,OAAO,CAACO,mBAAR,CAA4BD,CAA5B,EAA+BY,IAA/B,CAAoCF,CAAC,GAAC,CAAtC,CAD/C,EAEA;AACI,YAAID,WAAW,GAAG,EAAlB;AACAA,QAAAA,WAAW,CAACJ,KAAZ,GAAoBD,UAApB;AACAK,QAAAA,WAAW,CAACH,GAAZ,GAAkBA,GAAlB;AACAG,QAAAA,WAAW,CAACI,KAAZ,GAAoBnB,OAAO,CAACO,mBAAR,CAA4BD,CAA5B,EAA+BY,IAA/B,CAAoCF,CAApC,CAApB;AACAP,QAAAA,gBAAgB,CAACM,WAAjB,CAA6BK,IAA7B,CAAkCL,WAAlC;AACAD,QAAAA,KAAK,GAAG,IAAR;AACH;AAGL,UAAGd,OAAO,CAACO,mBAAR,CAA4BD,CAA5B,EAA+BY,IAA/B,CAAoCF,CAApC,EAAuCK,QAAvC,CAAgD,OAAhD,CAAH,EACInB,aAAa,CAACF,OAAO,CAACO,mBAAR,CAA4BD,CAA5B,EAA+BY,IAA/B,CAAoCF,CAApC,EAAuCM,KAAvC,CAA6C,CAA7C,EAAgDtB,OAAO,CAACO,mBAAR,CAA4BD,CAA5B,EAA+BY,IAA/B,CAAoCF,CAApC,EAAuCR,MAAvF,CAAD,CAAb,GAAgH,KAAhH,CADJ,KAGI,IAAGR,OAAO,CAACO,mBAAR,CAA4BD,CAA5B,EAA+BY,IAA/B,CAAoCF,CAApC,EAAuCK,QAAvC,CAAgD,UAAhD,CAAH,EACIlB,gBAAgB,CAACH,OAAO,CAACO,mBAAR,CAA4BD,CAA5B,EAA+BY,IAA/B,CAAoCF,CAApC,EAAuCM,KAAvC,CAA6C,EAA7C,EAAiDtB,OAAO,CAACO,mBAAR,CAA4BD,CAA5B,EAA+BY,IAA/B,CAAoCF,CAApC,EAAuCR,MAAxF,CAAD,CAAhB,GAAoH,KAApH;AAERG,MAAAA,KAAK,GAAGC,GAAG,GAAG,CAAd;AACAA,MAAAA,GAAG;AACN,KAhDL,CAkDI;;;AACAH,IAAAA,gBAAgB,CAACc,SAAjB,GAA6BV,IAA7B;AACAR,IAAAA,MAAM,CAACe,IAAP,CAAYX,gBAAZ;AACH;;AAED,MAAIe,IAAI,GAAG,EAAX;AACAA,EAAAA,IAAI,CAACC,KAAL,GAAazB,OAAO,CAAC0B,GAArB;AACAF,EAAAA,IAAI,CAACG,UAAL,GAAkBtB,MAAlB;AAEA,SAAOmB,IAAP;AAEH;;AAED,IAAIA,IAAI,GAAGpB,WAAW,CAACJ,OAAD,CAAtB;AAEA,SAAQE,aAAR;AACA,SAAQC,gBAAR;;AAEA,MAAMyB,OAAN,SAAsB7B,KAAK,CAAC8B,SAA5B,CAAqC;AAEjCC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd;AAEA,SAAKC,KAAL,GAAa;AACTC,MAAAA,aAAa,EAAE;AADN,KAAb;AAIA,SAAKC,QAAL,GAAgB,KAAKA,QAAL,CAAcC,IAAd,CAAmB,IAAnB,CAAhB;AACH;;AAEDC,EAAAA,YAAY,GAAE;AACV,QAAIC,YAAY,GAAG,EAAnB;;AACA,SAAI,IAAI/B,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACkB,IAAI,CAACG,UAAL,CAAgBnB,MAA9B,EAAqCF,CAAC,EAAtC,EACA;AACI,UAAIgC,iBAAiB,GAAG,EAAxB;AACA,UAAIC,aAAa,GAAG,CAApB;AACA,UAAIC,aAAJ;AACA,UAAIC,OAAJ;;AAEA,WAAI,IAAIzB,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACQ,IAAI,CAACG,UAAL,CAAgBrB,CAAhB,EAAmBS,WAAnB,CAA+BP,MAA7C,EAAoDQ,CAAC,EAArD,EACA;AACIwB,QAAAA,aAAa,GAAGhB,IAAI,CAACG,UAAL,CAAgBrB,CAAhB,EAAmBS,WAAnB,CAA+BC,CAA/B,EAAkCL,KAAlD;AACA,YAAIC,GAAG,GAAGY,IAAI,CAACG,UAAL,CAAgBrB,CAAhB,EAAmBS,WAAnB,CAA+BC,CAA/B,EAAkCJ,GAA5C;AACA,YAAIO,KAAK,GAAGK,IAAI,CAACG,UAAL,CAAgBrB,CAAhB,EAAmBS,WAAnB,CAA+BC,CAA/B,EAAkCG,KAA9C;AAEAsB,QAAAA,OAAO,GAAGjB,IAAI,CAACG,UAAL,CAAgBrB,CAAhB,EAAmBiB,SAAnB,CAA6BD,KAA7B,CAAmCiB,aAAnC,EAAkDC,aAAlD,CAAV;AACAF,QAAAA,iBAAiB,CAAClB,IAAlB,eAAuB;AAAA,oBAAOqB;AAAP;AAAA;AAAA;AAAA;AAAA,gBAAvB;AAEAA,QAAAA,OAAO,GAAGjB,IAAI,CAACG,UAAL,CAAgBrB,CAAhB,EAAmBiB,SAAnB,CAA6BD,KAA7B,CAAmCkB,aAAnC,EAAkD5B,GAAlD,CAAV;;AAEA,YAAGO,KAAK,CAACE,QAAN,CAAe,OAAf,CAAH,EACA;AACI,cAAG,KAAKU,KAAL,CAAWW,UAAX,CAAsBvB,KAAK,CAACG,KAAN,CAAY,CAAZ,EAAcH,KAAK,CAACwB,MAApB,CAAtB,CAAH,EACIL,iBAAiB,CAAClB,IAAlB,eAAuB;AAAM,YAAA,SAAS,EAAC,WAAhB;AAA4B,YAAA,KAAK,EAAE;AAACwB,cAAAA,eAAe,EAAC;AAAjB,aAAnC;AAAA,sBAAiEH;AAAjE;AAAA;AAAA;AAAA;AAAA,kBAAvB,EADJ,KAGIH,iBAAiB,CAAClB,IAAlB,eAAuB;AAAA,sBAAOqB;AAAP;AAAA;AAAA;AAAA;AAAA,kBAAvB;AACP,SAND,MAQI,IAAGtB,KAAK,CAACE,QAAN,CAAe,UAAf,CAAH,EACA;AACI,cAAG,KAAKU,KAAL,CAAWc,aAAX,CAAyB1B,KAAK,CAACG,KAAN,CAAY,EAAZ,EAAeH,KAAK,CAACwB,MAArB,CAAzB,CAAH,EACIL,iBAAiB,CAAClB,IAAlB,eAAuB;AAAM,YAAA,SAAS,EAAC,WAAhB;AAA4B,YAAA,KAAK,EAAE;AAACwB,cAAAA,eAAe,EAAC;AAAjB,aAAnC;AAAA,sBAAiEH;AAAjE;AAAA;AAAA;AAAA;AAAA,kBAAvB,EADJ,KAGIH,iBAAiB,CAAClB,IAAlB,eAAuB;AAAA,sBAAOqB;AAAP;AAAA;AAAA;AAAA;AAAA,kBAAvB;AACP,SAND,MAQI,IAAG,KAAKV,KAAL,CAAWe,IAAX,CAAgB7C,SAAS,CAACkB,KAAD,CAAzB,MAAsC,IAAzC,EACImB,iBAAiB,CAAClB,IAAlB,eAAuB;AAAM,UAAA,SAAS,EAAC,WAAhB;AAA4B,UAAA,KAAK,EAAE;AAACwB,YAAAA,eAAe,EAACzB;AAAjB,WAAnC;AAAA,oBAA6DsB;AAA7D;AAAA;AAAA;AAAA;AAAA,gBAAvB,EADJ,KAGIH,iBAAiB,CAAClB,IAAlB,eAAuB;AAAA,oBAAOqB;AAAP;AAAA;AAAA;AAAA;AAAA,gBAAvB;;AAEZF,QAAAA,aAAa,GAAG3B,GAAhB;AACH;;AAED4B,MAAAA,aAAa,GAAGhB,IAAI,CAACG,UAAL,CAAgBrB,CAAhB,EAAmBiB,SAAnB,CAA6Bf,MAA7C;AACAiC,MAAAA,OAAO,GAAGjB,IAAI,CAACG,UAAL,CAAgBrB,CAAhB,EAAmBiB,SAAnB,CAA6BD,KAA7B,CAAmCiB,aAAnC,EAAkDC,aAAlD,CAAV;AAEAF,MAAAA,iBAAiB,CAAClB,IAAlB,eAAuB;AAAA,kBAAOqB;AAAP;AAAA;AAAA;AAAA;AAAA,cAAvB;AAEAJ,MAAAA,YAAY,CAACjB,IAAb,CAAkBkB,iBAAlB;AAEH;;AAEDD,IAAAA,YAAY,GAAGA,YAAY,CAACU,GAAb,CAAiBC,IAAI,iBAChC;AAAA,8BAAK;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA,kBAA4BA;AAA5B;AAAA;AAAA;AAAA;AAAA,cAAL,eAA4C;AAAA;AAAA;AAAA;AAAA,cAA5C;AAAA;AAAA;AAAA;AAAA;AAAA,YADW,CAAf;AAGA,WAAOX,YAAP;AAEH;;AAEDH,EAAAA,QAAQ,GAAE;AACN,SAAKe,QAAL,CAAc;AAAChB,MAAAA,aAAa,EAAE,CAAC,KAAKD,KAAL,CAAWC;AAA5B,KAAd;AACH;;AAEDiB,EAAAA,MAAM,GAAE;AAEJ,QAAIC,QAAJ;AACA,QAAG,CAAC,KAAKnB,KAAL,CAAWC,aAAf,EACIkB,QAAQ,GAAG,KAAKf,YAAL,EAAX,CADJ,KAGIe,QAAQ,gBAAI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAZ;AAEJ,QAAIC,MAAM,GAAG,GAAb;AAEA,QAAG,KAAKpB,KAAL,CAAWC,aAAd,EACImB,MAAM,GAAG,GAAT;AAGJ,wBACA;AAAK,MAAA,KAAK,EAAC,MAAX;AAAA,8BACI;AAAK,QAAA,KAAK,EAAC,iBAAX;AAAA,gCACI;AAAQ,UAAA,KAAK,EAAC,cAAd;AAA6B,UAAA,OAAO,EAAE,KAAKlB,QAA3C;AAAA,oBAAsDkB;AAAtD;AAAA;AAAA;AAAA;AAAA,gBADJ,EAEKD,QAFL;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAMI;AAAK,QAAA,KAAK,EAAC,gBAAX;AAAA,gCACI;AAAI,UAAA,KAAK,EAAC,gBAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAGI;AAAM,UAAA,GAAG,EAAC,YAAV;AAAuB,UAAA,IAAI,EAAC;AAA5B;AAAA;AAAA;AAAA;AAAA,gBAHJ,eAMI;AAAM,UAAA,KAAK,EAAC,sBAAZ;AAAmC,UAAA,MAAM,EAAC,iBAA1C;AAAA,kCACI;AAAO,YAAA,KAAK,EAAC,oBAAb;AAAkC,YAAA,IAAI,EAAC,MAAvC;AAA8C,YAAA,WAAW,EAAC,UAA1D;AAAqE,YAAA,IAAI,EAAC;AAA1E;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAQ,YAAA,IAAI,EAAC,QAAb;AAAA,mCAAsB;AAAG,cAAA,KAAK,EAAC;AAAT;AAAA;AAAA;AAAA;AAAA;AAAtB;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBANJ;AAAA;AAAA;AAAA;AAAA;AAAA,cANJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADA;AAoBH;;AA9GgC;;AAiHrC,eAAevB,OAAf","sourcesContent":["import React from 'react';\r\nimport '../App.css';\r\n\r\nimport { rawData } from '../storeData'\r\n\r\nlet colorDict = {\r\n    '#ff471a': 0,\r\n    '#ffff1a': 1,\r\n    '#79ff4d': 2,\r\n    '#cce6ff': 3,\r\n    '#66b3ff': 4,\r\n    '#1a8cff': 5,\r\n    '#f0b3ff': 6,\r\n    '#e066ff': 7,\r\n    '#d11aff': 8\r\n};\r\n\r\n\r\nlet currentThemes = {}\r\nlet currentLocations = {}\r\n\r\nfunction convertData(rawData){\r\n\r\n    let result = []    \r\n\r\n    //Loop through all the paragraphs\r\n    for(let i=0;i<rawData.sentence_propaganda.length;i++)\r\n    {\r\n        let currentParagraph = {}\r\n        let fixedStart = 0\r\n        let start = 0\r\n        let end = 0\r\n        let text = \"\"\r\n        let first = true\r\n\r\n\r\n        currentParagraph.annotations = []\r\n\r\n        //Loop through all the words\r\n        for(let j=0;j<rawData.sentence_propaganda[i].tokens.length;j++)\r\n        {\r\n            //Store text\r\n            text += rawData.sentence_propaganda[i].tokens[j] + \" \"   \r\n            end += rawData.sentence_propaganda[i].tokens[j].length\r\n            \r\n            //Remeber starting point (sicne we could have multiple consecutive words with the same color)\r\n            if(rawData.sentence_propaganda[i].tags[j] !== \"O\")\r\n                if(first)\r\n                {\r\n                    first = false\r\n                    fixedStart = start\r\n                }\r\n            \r\n            //Store \r\n            if(rawData.sentence_propaganda[i].tags[j] !== \"O\")    \r\n                if(j === rawData.sentence_propaganda[i].tokens.length || \r\n                    rawData.sentence_propaganda[i].tags[j] !== rawData.sentence_propaganda[i].tags[j+1])\r\n                {\r\n                    let annotations = {}\r\n                    annotations.start = fixedStart\r\n                    annotations.end = end\r\n                    annotations.color = rawData.sentence_propaganda[i].tags[j]\r\n                    currentParagraph.annotations.push(annotations)\r\n                    first = true\r\n                }\r\n            \r\n        \r\n            if(rawData.sentence_propaganda[i].tags[j].includes('theme'))\r\n                currentThemes[rawData.sentence_propaganda[i].tags[j].slice(7, rawData.sentence_propaganda[i].tags[j].length)] = false;                  \r\n            else\r\n                if(rawData.sentence_propaganda[i].tags[j].includes('location'))\r\n                    currentLocations[rawData.sentence_propaganda[i].tags[j].slice(10, rawData.sentence_propaganda[i].tags[j].length)] = false;        \r\n                 \r\n            start = end + 1\r\n            end++\r\n        }\r\n        \r\n        //Store paragraph and push to result\r\n        currentParagraph.paragraph = text\r\n        result.push(currentParagraph)\r\n    }\r\n\r\n    let data = {}\r\n    data.title = rawData.key\r\n    data.paragraphs = result\r\n\r\n    return data\r\n\r\n}\r\n\r\nlet data = convertData(rawData)\r\n\r\nexport {currentThemes};\r\nexport {currentLocations};\r\n\r\nclass Article extends React.Component{\r\n    \r\n    constructor(props){\r\n        super()\r\n\r\n        this.state = {\r\n            hideTextState: false\r\n        }\r\n\r\n        this.hideText = this.hideText.bind(this);\r\n    }\r\n    \r\n    buildArticle(){\r\n        let HTMLElements = []\r\n        for(let i=0;i<data.paragraphs.length;i++)\r\n        {\r\n            let paragraphElements = []\r\n            let startingPoint = 0\r\n            let stoppingPoint\r\n            let current\r\n\r\n            for(let j=0;j<data.paragraphs[i].annotations.length;j++)\r\n            {\r\n                stoppingPoint = data.paragraphs[i].annotations[j].start\r\n                let end = data.paragraphs[i].annotations[j].end\r\n                let color = data.paragraphs[i].annotations[j].color\r\n\r\n                current = data.paragraphs[i].paragraph.slice(startingPoint, stoppingPoint)\r\n                paragraphElements.push(<span>{current}</span>)\r\n\r\n                current = data.paragraphs[i].paragraph.slice(stoppingPoint, end)\r\n                \r\n                if(color.includes('theme'))\r\n                {\r\n                    if(this.props.currThemes[color.slice(7,color.lenght)])\r\n                        paragraphElements.push(<span className=\"highlight\" style={{backgroundColor:\"#ffff80\"}}>{current}</span>)\r\n                    else\r\n                        paragraphElements.push(<span>{current}</span>)\r\n                }\r\n                else\r\n                    if(color.includes('location'))\r\n                    {\r\n                        if(this.props.currLocations[color.slice(10,color.lenght)])\r\n                            paragraphElements.push(<span className=\"highlight\" style={{backgroundColor:\"#99ffff\"}}>{current}</span>)\r\n                        else\r\n                            paragraphElements.push(<span>{current}</span>)\r\n                    }\r\n                    else\r\n                        if(this.props.curr[colorDict[color]] === true)\r\n                            paragraphElements.push(<span className=\"highlight\" style={{backgroundColor:color}}>{current}</span>)\r\n                        else\r\n                            paragraphElements.push(<span>{current}</span>)\r\n\r\n                startingPoint = end\r\n            }\r\n            \r\n            stoppingPoint = data.paragraphs[i].paragraph.length\r\n            current = data.paragraphs[i].paragraph.slice(startingPoint, stoppingPoint)\r\n            \r\n            paragraphElements.push(<span>{current}</span>)\r\n            \r\n            HTMLElements.push(paragraphElements)\r\n\r\n        }\r\n        \r\n        HTMLElements = HTMLElements.map(word => \r\n            <div><div className='paragraph'>{word}</div><br></br></div>)\r\n\r\n        return HTMLElements;\r\n\r\n    }\r\n\r\n    hideText(){\r\n        this.setState({hideTextState: !this.state.hideTextState});\r\n    }\r\n\r\n    render(){\r\n        \r\n        let HTMLText;\r\n        if(!this.state.hideTextState)\r\n            HTMLText = this.buildArticle();\r\n        else\r\n            HTMLText = (<div className=\"paragraph\">Text Hidden</div>);\r\n\r\n        let symbol = \"?\"\r\n        \r\n        if(this.state.hideTextState)\r\n            symbol = \"X\"\r\n        \r\n\r\n        return (\r\n        <div class=\"note\">\r\n            <div class='article-content'>\r\n                <button class=\"article-help\" onClick={this.hideText}>{symbol}</button>\r\n                {HTMLText}\r\n            </div>\r\n\r\n            <div class='article-search'> \r\n                <h1 class='article-source'> SOURCE </h1>\r\n\r\n                <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\"></link>\r\n\r\n                \r\n                <form class=\"article-search-forms\" action=\"action_page.php\">\r\n                    <input class=\"article-search-bar\" type=\"text\" placeholder=\"Search..\" name=\"search\"></input>\r\n                    <button type=\"submit\"><i class=\"fa fa-search\"></i></button>\r\n\r\n                </form>    \r\n            </div>\r\n        </div>)\r\n    }\r\n}\r\n\r\nexport default Article;"]},"metadata":{},"sourceType":"module"}